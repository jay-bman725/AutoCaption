<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoCaption</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Draggable title bar -->
    <div class="title-bar">
        <div class="title-bar-content">
            <span class="app-title">AutoCaption</span>
        </div>
    </div>
    
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üé¨ AutoCaption</h1>
                <p>Generate professional captions for your videos using OpenAI Whisper</p>
                <div class="header-badge">
                    <span>‚ú® AI-Powered</span>
                </div>
                <div class="header-actions">
                    <button id="settings-btn" class="btn btn-icon" title="Settings">
                        <span>‚öôÔ∏è</span>
                    </button>
                </div>
            </div>
        </header>

        <main>
            <!-- Settings Modal -->
            <div id="settings-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚öôÔ∏è Settings</h2>
                        <button id="close-settings-btn" class="btn btn-icon">‚úñÔ∏è</button>
                    </div>
                    <div class="modal-body">
                        <div class="setting-group">
                            <h3>üîÑ Updates</h3>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <input type="checkbox" id="auto-check-updates" checked>
                                    <span class="checkmark"></span>
                                    Automatically check for updates every hour
                                </label>
                                <p class="setting-description">When enabled, AutoCaption will check for new versions in the background.</p>
                            </div>
                            <div class="setting-item">
                                <button id="manual-check-updates-btn" class="btn btn-secondary">
                                    <span>üîç Check for Updates Now</span>
                                </button>
                                <div id="last-check-info" class="setting-info"></div>
                            </div>
                        </div>
                        <div class="setting-group">
                            <h3>‚ÑπÔ∏è About</h3>
                            <div class="setting-item">
                                <p><strong>Version:</strong> 1.1.0</p>
                                <p><strong>Made with ‚ù§Ô∏è by Jay</strong></p>
                                <p>Using OpenAI Whisper for AI-powered transcription</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="save-settings-btn" class="btn btn-primary">Save Settings</button>
                        <button id="cancel-settings-btn" class="btn btn-outline">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- API Key Setup -->
            <div id="api-key-section" class="section">
                <div class="card">
                    <div class="card-header">
                        <h2>üîë OpenAI API Key</h2>
                        <p class="card-subtitle">Enter your API key to get started with AI-powered transcription</p>
                    </div>
                    <div class="input-group">
                        <input type="password" id="api-key-input" placeholder="sk-..." autocomplete="off">
                        <button id="set-api-key-btn" class="btn btn-primary">
                            <span>Set API Key</span>
                        </button>
                    </div>
                    <p class="help-text">
                        üîó Get your API key from <a href="https://platform.openai.com/api-keys" id="openai-api-link">OpenAI Platform</a>
                    </p>
                    <div id="api-key-status" class="status"></div>
                    <div id="change-api-key-section" style="display: none;">
                        <button id="change-api-key-btn" class="btn btn-outline">Change API Key</button>
                    </div>
                </div>
            </div>

            <!-- File Upload -->
            <div id="upload-section" class="section" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h2>üìÅ Upload Media File</h2>
                        <p class="card-subtitle">Support for audio and video files (MP3, WAV, MP4, MOV, and more). Videos will be converted to MP3. Large audio files will be compressed if needed to meet the 25MB limit.</p>
                    </div>
                    <div class="upload-area" id="upload-area">
                        <div class="upload-content">
                            <div class="upload-icon">üéµ</div>
                            <h3>Drag and drop your file here</h3>
                            <p>or</p>
                            <button id="select-file-btn" class="btn btn-secondary">
                                <span>üìÇ Browse Files</span>
                            </button>
                        </div>
                    </div>
                    <div id="file-info" class="file-info" style="display: none;">
                        <div class="file-details">
                            <div class="file-meta">
                                <span class="file-icon">üìÑ</span>
                                <span id="file-name"></span>
                            </div>
                            <button id="remove-file-btn" class="btn btn-outline">
                                <span>üóëÔ∏è Remove</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generate Section -->
            <div id="generate-section" class="section" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h2>‚ö° Generate Captions</h2>
                        <p class="card-subtitle">AI will compress and transcribe your media file. All files are compressed to MP3 format and must be under 25MB after compression (OpenAI limit).</p>
                    </div>
                    <button id="generate-btn" class="btn btn-primary btn-large">
                        <span id="generate-btn-text">üöÄ Generate SRT Captions</span>
                        <div id="generate-spinner" class="spinner" style="display: none;"></div>
                    </button>
                    <div id="generation-status" class="status"></div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results-section" class="section" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h2>üìù Generated Captions</h2>
                        <p class="card-subtitle">Your captions are ready! Preview, copy, or download them below</p>
                    </div>
                    <div class="results-actions">
                        <button id="preview-btn" class="btn btn-secondary">
                            <span>üëÅÔ∏è Preview</span>
                        </button>
                        <button id="copy-btn" class="btn btn-secondary">
                            <span>üìã Copy to Clipboard</span>
                        </button>
                        <button id="download-btn" class="btn btn-primary">
                            <span>üíæ Download SRT</span>
                        </button>
                    </div>
                    <div id="srt-preview" class="srt-preview" style="display: none;">
                        <pre id="srt-content"></pre>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <p>Made with ‚ù§Ô∏è By Jay, using OpenAI Whisper</p>
                <div class="footer-links">
                    <span>Fast & Accurate</span>
                    <span>‚Ä¢</span>
                    <span>Privacy Focused</span>
                    <span>‚Ä¢</span>
                    <span>Professional Quality</span>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
